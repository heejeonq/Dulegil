<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="evt">
	<select id="getEvtDtl" parameterType="hashmap" resultType="hashmap">
		SELECT E.POST_NO, E.MEMBER_NO, M.NM, E.TITLE, E.CONTENTS, E.HIT, E.REG_DT
		FROM EVENT E INNER JOIN MEMBER M
		                     ON E.MEMBER_NO = M.MEMBER_NO
		WHERE E.DEL_DT IS NULL
		AND E.POST_NO = #{no}
	</select>
	
	<update id="evtHit" parameterType="hashmap">
		UPDATE EVENT SET HIT = HIT + 1
		WHERE NO = #{no}
	</update>
</mapper>